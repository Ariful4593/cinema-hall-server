const express = require('express');
const bodyParser = require('body-parser');
const cors = require('cors');
var cron = require('node-cron');
require('dotenv').config();
const app = express();
app.use(bodyParser.json())
app.use(cors())


const MongoClient = require('mongodb').MongoClient;
const { ObjectId } = require('mongodb');
const uri = `mongodb+srv://${process.env.DB_USER}:${process.env.DB_PASS}@cluster0.xsirj.mongodb.net/${process.env.DB_NAME}?retryWrites=true&w=majority`;
const client = new MongoClient(uri, { useNewUrlParser: true, useUnifiedTopology: true });
client.connect(err => {
    const moviceCollection = client.db("cinemaHall").collection("movie");
    const MovieData = [
        { id: 1, title: 'Baahubali 2', director: 'S. S. Rajamouli', cast: 'Prabhas, Rana Daggubati, Anushka Shetty, Sathyaraj, Ramya Krishnan, Tamannaah Bhatia', release: '28 April 2017 ', description: 'Even though it’s not a Bollywood film, it did wonders to the Indian box-office. Directed by S. S. Rajamouli, Baahubali 2: The Conclusion went on to become the highest grossing film of the decade with an earning of about Rs. 510.99 crores at the Indian box-office. The magnum-opus mythological drama made on a budget of Rs 250 crores, broke all box-office records becoming the highest-grossing Hindi film of all time.', time: '3pm to 6pm' },
        { id: 2, title: 'Dangal', director: 'Nitesh Tiwari', cast: 'Aamir Khan, Fatima Sana Shaikh, Sanya Malhotra, Zaira Wasim', release: '23 December 2016', description: 'Based on the life of two Commonwealth gold-medalist sisters, Geeta Phogat and Babita Kumari from Haryana, Aamir Khan starrer Dangal is the second highest grossing film of the decade. The film released in 2016 and went onto win several awards at the 62nd Filmfare Awards. Aamir Khan in the role of an uplifting and hardworking father and Fatima Sana Shaikh and Sanya Malhotra as the Phogat sisters won over the audiences with their stellar performances.', time: '6pm to 9pm' },
        { id: 3, title: 'Sanju', director: 'Rajkumar Hirani', cast: 'Ranbir Kapoor, Anushka Sharman, Sonam Kapoor, Vicky Kaushal, Dia Mirza', release: '29 June 2018', description: 'Another Rajkumar Hirani directorial that became a blockbuster was the Sanjay Dutt biopic, Sanju. Ranbir Kapoor starrer narrates the real life controversial story of the mega star Sanjay Dutt showing his highest highs and lowest lows. Hirani’s brilliant story-telling and Ranbir’s mind blowing performance made Sanju one of the most loved films of the year.', time: '2pm to 6pm' },
        { id: 4, title: 'PK', director: ' Rajkumar Hirani', cast: 'Aamir Khan, Anushka Sharma, Sushant Singh Rajput, Boman Irani, Sanjay Dutt', release: '19 December 2014 ', description: 'This period drama featured Deepika Padukone as Rani Padmavati, alongside Shahid Kapoor as Maharawal Ratan Singh and Ranveer Singh as Alauddin Khilji. Bhansali period drama was made on extravagant film sets and costumes and the finest actors. The film had to deal with a lot of controversies and life-threatening protests due to its plot but it still made it to the list of highest grossing films between 2010-2019 at the eighth position', time: '2pm to 6pm' },
        { id: 5, title: 'Tiger Zinda Hai', director: 'Ali Abbas Zafar', cast: 'Salman Khan, Katrina Kaif', release: '28 April 2017 ', description: 'A sequel to the blockbuster Ek Tha Tiger, Tiger Zinda Hai was a story of two super spies Tiger, Salman Khan and Zoya, Katrina Kaif.  Ali Abbas Zafar directorial was an action-packed entertainer with Salman Khan written all over it. Earning Rs. 339 crore at the Indian box-office, Tiger Zinda Hai is the fifth highest grossing film of the decade.', time: '3pm to 6pm' },
        { id: 6, title: 'Bajrangi Bhaijaan', director: ' Kabir Khan', cast: ' Salman Khan, Harshaali Malhotra, Nawazuddin Siddiqui', release: '28 April 2017 ', description: 'Second Salman Khan starrer to enter the list is the 2015 release, Bajrangi Bhaijaan. This Kabir Khan directorial potrayed Salman in a different light from his usual roles. Essaying the role of a simple Indian man, Pawan Kumar Chaturvedi, an ardent follower of God Bajrangbali this became one of Salman’s most memorable roles.', time: '3:30pm to 6:30pm' },
        { id: 7, title: 'War', director: 'Sanjay Leela Bhansali', cast: ' Hrithik Roshan, Tiger Shroff, Vaani Kapoor', release: '28 April 2017 ', description: 'Hrithik Roshan and Tiger Shroff starrer War was a hardcore action film. With two handsome hunks flaunting their chiselled bodies in high-octane action sequences, the film served to be a delight for Tiger and Hrithik’s fans. From action, drama, romance to music, War had the right amount of everything hence making it a huge box-office success in 2019.', time: '3pm to 6pm' },
        { id: 8, title: 'Padmaavat', director: 'Sanjay Leela Bhansali', cast: 'Deepika Padukone, Ranveer Singh, Shahid Kapoor', release: '28 April 2017 ', description: 'This period drama featured Deepika Padukone as Rani Padmavati, alongside Shahid Kapoor as Maharawal Ratan Singh and Ranveer Singh as Alauddin Khilji. Bhansali period drama was made on extravagant film sets and costumes and the finest actors. The film had to deal with a lot of controversies and life-threatening protests due to its plot but it still made it to the list of highest grossing films between 2010-2019 at the eighth position', time: '5pm to 7pm' },
        { id: 9, title: 'Sultan ', director: 'Ali Abbas Zafar', cast: 'Salman Khan, Anushka Sharma', release: '28 April 2017 ', description: "Yet another Ali Abbas Zafar – Salman collaboration that made to the list is Sultan. The film was a classic underdog tale about a wrestler's journey named Sultan Ali Khan. The film also starred Anushka Sharma as Salman’s love interest Aarfa. With power packed performances from both Salman and Anushka, this emotional drama striked the right chords with the audiences and made a mark at the box-office.", time: '3pm to 6pm' },
        { id: 10, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },


        { id: 11, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 12, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 13, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 14, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 15, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 16, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 17, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 18, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 19, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 20, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 21, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 22, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },

        { id: 23, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 24, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 25, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 26, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 27, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 28, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 29, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 30, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 31, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 32, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 33, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 34, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 35, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 36, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 37, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 38, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 39, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' },
        { id: 40, title: 'Dhoom 3', director: 'Vijay Krishna Acharya', cast: 'Aamir Khan, Katrina Kaif, Abhishek Bachchan, Uday Chopra', release: '28 April 2017 ', description: "Dhoom 3 marked the third installment of the hit Dhoom franchise. The action packed thriller Aamir plays Sahir, a circus entertainer who attempts for a bank robbery in Chicago in order to take revenge of his father's death. Inspector Jai and Ali played by Abhishek and Uday play the cops on duty as they investigate the case. This marks the third Aamir starrer to the list of the highest grosses in the last decade.", time: '10am to 1pm' }
    ]
    const today = new Date()
    app.post('/seatId', (req, res) => {
        const id = req.body.seatid;
        const _id = req.body._id;
        moviceCollection.find({})
            .toArray((err, documents) => {
                for (let index = 0; index < documents.length; index++) {
                    const element = documents[index]._id;
                    const elem = documents[index].seatTable;

                    if (element == _id) {
                        for (let i = 0; i < elem.length; i++) {
                            const seatElement = elem[i].seatNo;
                            // console.log(seatElement)
                            if (seatElement === id) {
                                console.log(seatElement, id)
                                moviceCollection.updateOne(
                                    { _id: ObjectId(documents[index]._id), 'seatTableSit.date': today.toLocaleDateString() },
                                    {
                                        $set: { 'seatNo': 0 }
                                    }
                                )
                                break;
                            }

                        }
                    }


                }
            })
        // console.log(id, _id)
    })
    app.get('/getMovie', (req, res) => {
        moviceCollection.find({})
            .toArray((err, document) => {
                res.send(document)
            })
    })
    cron.schedule('22 16 * * *', () => {
        // for (let index = 0; index < MovieData.length; index++) {
        //     console.log(index)
        //     const element = MovieData[index];
        //     moviceCollection.insertOne(element)

        // }

        moviceCollection.find({})
            .toArray((err, documents) => {
                for (let index = 0; index < documents.length; index++) {
                    console.log(index)
                    const element = documents[index];
                    for (let i = 0; i < 40; i++) {
                        // const element = array[i];
                        moviceCollection.updateOne(
                            { _id: ObjectId(documents[index]._id) },
                            {
                                $push: {
                                    seatTableSit: {
                                        $each: [{ seatNo: i, count: 1, date: today.toLocaleDateString(), }]
                                    }
                                }
                                // $set: {'semester' : '8th Semester'}
                            }
                        )
                    }

                }
            })
    });
    console.log('Database connected')
    // perform actions on the collection object
});

app.get('/', (req, res) => {
    res.send('Hello world')
})
const port = 4000;
app.listen(process.env.PORT || port)